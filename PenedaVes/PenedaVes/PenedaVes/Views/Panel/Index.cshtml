@model RootViewModel

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Painel de controlo de administradores</h1>

<form asp-controller="Panel" asp-action="ChangePermissions">
    <table>
        <h3> Lista de utilizadores</h3>
        @for (int i = 0; i < Model.UserBoxesList.Count; i++)
        {
            @if (i % 3 == 0)
            {
                @:<tr></tr>
            }
            <td>
                @Html.CheckBoxFor(model => model.UserBoxesList[i].IsChecked)
                <label> @Model.UserBoxesList[i].Username</label>
                @Html.HiddenFor(model => model.UserBoxesList[i].Username)
                @Html.HiddenFor(model => model.UserBoxesList[i].UserId)
            </td>
        }
    </table>

    <div class="form-group">
        <input type="submit" value="Alterar" class="btn btn-primary" />
    </div>
</form>